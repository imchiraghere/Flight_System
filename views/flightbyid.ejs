<style>
  .main {
    background: url("/images/p2.jpg");
    width: 100vw;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background-size: cover;
  }
  .box {
    width: 70%;
    height: auto;
    background: transparent;
    border-bottom-right-radius: 20px;
    border-bottom-left-radius: 20px;
    border-top-right-radius: 30px;
    padding: 15px;
    margin-left: 10px;
    box-shadow: 10px 10px 20px #000;
  }
  .heading {
    font-size: 24px;
    letter-spacing: 1px;
    font-weight: bold;
    color: #000000;
    margin-bottom: 10px;
  }
  .dstyle {
    display: flex;
    flex-direction: row;
    justify-content: space-evenly;
  }
  .button {
    width: 100%;
  }
</style>
<html>
  <head>
    <title>Flight System</title>
    <link rel="icon" type="image/png" href="/images/icon.png" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <!-- Bootstrap Font Icon CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css"
    />
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
    <script src="/javascripts/city.js"></script>
    <script>
      $(document).ready(function () {
        var dbdays = $("#dbdays").val().split(",");
        // console.log(dbdays);
        $(".days").map((i, item) => {
          // console.log(i + "" + $(item).val());
          dbdays.map((dy) => {
            if ($(item).val() == dy) {
              $(item).prop("checked", true);
            }
          });
        });
      });
    </script>
  </head>
  <div class="main">
    <div class="box">
      <div class="heading">
        <img src="/images/Plane.png" width="70" />
        FLight Modification
        <a href="./flightdisplay">
          <img src="/images/rec2.png" width="50" align="right"
        /></a>
      </div>
      <form action="/flight/flight_edit_del" method="post" class="row g-3">
        <input type="hidden" id="dbdays" value="<%=data.days%>" />
        <input type="hidden" name="flightid" value="<%=data.flightid%>" />

        <div class="col-md-6">
          <label for="flightname" class="form-label"><b>Flight Name</b></label>
          <input
            type="text"
            name="flightname"
            class="form-control"
            id="flightname"
            value="<%=data.flightname%>"
          />
        </div>
        <div class="col-md-6">
          <label for="flighttype" class="form-label"><b>Flight Type</b></label>
          <select id="flighttype" name="flighttype" class="form-select">
            <option><%=data.flighttype%></option>
            <option>Economy</option>
            <option>Business</option>
            <option>Economy/Business</option>
          </select>
        </div>
        <div class="col-md-6">
          <label for="noofseats" class="form-label"><b>Total Seats :</b></label>
          <input
            type="text"
            name="totalseats"
            class="form-control"
            id="noofseats"
            value="<%=data.totalseats%>"
          />
        </div>
        <div class="col-md-6">
          <label for="days" class="form-label"><b>Flight Days</b></label>
          <div class="dstyle">
            <div class="form-check">
              <!-- <% var d=data.days.split(',')
              var mon='' %>
              <% d.map((item)=>{ 
                    if(item=='Mon') {
                        mon='checked'}
                    })%> -->
              <input
                class="form-check-input days"
                type="checkbox"
                value="Mon"
                name="days"
                id="days"
              />
              <label class="form-check-label" for="days"> Mon </label>
            </div>
            <div class="form-check">
              <input
                class="form-check-input days"
                type="checkbox"
                value="Tue"
                name="days"
                id="days"
              />
              <label class="form-check-label" for="days"> Tue </label>
            </div>
            <div class="form-check">
              <input
                class="form-check-input days"
                type="checkbox"
                value="Wed"
                name="days"
                id="days"
              />
              <label class="form-check-label" for="days"> Wed </label>
            </div>
            <div class="form-check">
              <input
                class="form-check-input days"
                type="checkbox"
                value="Thur"
                name="days"
                id="days"
              />
              <label class="form-check-label" for="days"> Thur </label>
            </div>
            <div class="form-check">
              <input
                class="form-check-input days"
                type="checkbox"
                value="Fri"
                name="days"
                id="days"
              />
              <label class="form-check-label" for="days"> Fri </label>
            </div>
            <div class="form-check">
              <input
                class="form-check-input days"
                type="checkbox"
                value="Sat"
                name="days"
                id="days"
              />
              <label class="form-check-label" for="days"> Sat </label>
            </div>
            <div class="form-check">
              <input
                class="form-check-input days"
                type="checkbox"
                value="Sun"
                name="days"
                id="days"
              />
              <label class="form-check-label" for="days"> Sun </label>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <label for="source" class="form-label"><b>Source City</b></label>
          <select id="source" name="sourcecity" class="form-select">
            <option value="<%=data.sourcecity%>"><%=data.source%></option>
          </select>
        </div>
        <div class="col-md-3">
          <label for="deptime" class="form-label"><b>Departure Time</b></label>
          <input
            type="time"
            name="departuretime"
            class="form-control"
            id="deptime"
            value="<%=data.departuretime%>"
          />
        </div>

        <div class="col-md-3">
          <label for="destination" class="form-label"
            ><b>Destination City</b></label
          >
          <select id="destination" name="destinationcity" class="form-select">
            <option value="<%=data.destinationcity%>">
              <%=data.destination%>
            </option>
          </select>
        </div>
        <div class="col-md-3">
          <label for="arrtime" class="form-label"><b>Arrival Time</b></label>
          <input
            type="time"
            name="arrvialtime"
            class="form-control"
            id="arrtime"
            value="<%=data.arrvialtime%>"
          />
        </div>
        <div class="col-md-12">
          <label for="company" class="form-label"><b>Company</b></label>
          <input
            type="text"
            name="company"
            class="form-control"
            id="company"
            value="<%=data.company%>"
          />
        </div>

        <div class="col-md-6">
          <button
            type="submit"
            name="btn"
            value="Edit"
            class="btn btn-outline-primary button"
          >
            <i class="bi bi-pencil-square"></i>
            <b>Edit</b>
          </button>
        </div>
        <div class="col-md-6">
          <button
            type="submit"
            name="btn"
            value="Delete"
            class="btn btn-outline-primary button"
          >
            <i class="bi bi-trash-fill"></i>
            <b>Delete</b>
          </button>
        </div>
      </form>
    </div>
  </div>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
    crossorigin="anonymous"
  ></script>
</html>
